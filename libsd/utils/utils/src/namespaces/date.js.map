{"version":3,"sources":["../../../../../../libs/utils/src/namespaces/date.ts"],"sourcesContent":["import dayjs from \"dayjs\";\n\nexport const sortByDate = <T>(a: T, b: T, key: keyof T, desc = true) => {\n  if (!a[key] || !b[key]) return 0;\n  if (!(a[key] instanceof Date) || !(b[key] instanceof Date)) return 0;\n\n  if (dayjs(a[key] as Date).isSame(dayjs(b[key] as Date))) return 0;\n  if (desc) return dayjs(a[key] as Date).isBefore(dayjs(b[key] as Date)) ? 1 : -1;\n  else return dayjs(a[key] as Date).isBefore(dayjs(b[key] as Date)) ? -1 : 1;\n};\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const deepSearchAndParseDates = (obj: any, dateKeys: string[]): any => {\n  if (typeof obj !== \"object\" || obj === null) {\n    return obj;\n  }\n\n  const keys = Object.keys(obj);\n\n  if (keys.length === 0) {\n    return obj;\n  }\n\n  for (const key of keys) {\n    let value = obj[key];\n\n    if (dateKeys.includes(key)) {\n      if (typeof value === \"string\") {\n        const parsedDate = new Date(value);\n        if (!isNaN(parsedDate.getTime())) {\n          value = parsedDate;\n        }\n      }\n    }\n\n    obj[key] = deepSearchAndParseDates(value, dateKeys);\n  }\n\n  return obj;\n};\n"],"names":["deepSearchAndParseDates","sortByDate","a","b","key","desc","Date","dayjs","isSame","isBefore","obj","dateKeys","keys","Object","length","value","includes","parsedDate","isNaN","getTime"],"mappings":";;;;;;;;;;;IAYaA,uBAAuB;eAAvBA;;IAVAC,UAAU;eAAVA;;;;gEAFK;AAEX,MAAMA,aAAa,CAAIC,GAAMC,GAAMC,KAAcC,OAAO,IAAI;IACjE,IAAI,CAACH,CAAC,CAACE,IAAI,IAAI,CAACD,CAAC,CAACC,IAAI,EAAE,OAAO;IAC/B,IAAI,CAAEF,CAAAA,CAAC,CAACE,IAAI,YAAYE,IAAG,KAAM,CAAEH,CAAAA,CAAC,CAACC,IAAI,YAAYE,IAAG,GAAI,OAAO;IAEnE,IAAIC,IAAAA,cAAK,EAACL,CAAC,CAACE,IAAI,EAAUI,MAAM,CAACD,IAAAA,cAAK,EAACJ,CAAC,CAACC,IAAI,IAAY,OAAO;IAChE,IAAIC,MAAM,OAAOE,IAAAA,cAAK,EAACL,CAAC,CAACE,IAAI,EAAUK,QAAQ,CAACF,IAAAA,cAAK,EAACJ,CAAC,CAACC,IAAI,KAAa,IAAI,CAAC;SACzE,OAAOG,IAAAA,cAAK,EAACL,CAAC,CAACE,IAAI,EAAUK,QAAQ,CAACF,IAAAA,cAAK,EAACJ,CAAC,CAACC,IAAI,KAAa,CAAC,IAAI;AAC3E;AAGO,MAAMJ,0BAA0B,CAACU,KAAUC;IAChD,IAAI,OAAOD,QAAQ,YAAYA,QAAQ,MAAM;QAC3C,OAAOA;IACT;IAEA,MAAME,OAAOC,OAAOD,IAAI,CAACF;IAEzB,IAAIE,KAAKE,MAAM,KAAK,GAAG;QACrB,OAAOJ;IACT;IAEA,KAAK,MAAMN,OAAOQ,KAAM;QACtB,IAAIG,QAAQL,GAAG,CAACN,IAAI;QAEpB,IAAIO,SAASK,QAAQ,CAACZ,MAAM;YAC1B,IAAI,OAAOW,UAAU,UAAU;gBAC7B,MAAME,aAAa,IAAIX,KAAKS;gBAC5B,IAAI,CAACG,MAAMD,WAAWE,OAAO,KAAK;oBAChCJ,QAAQE;gBACV;YACF;QACF;QAEAP,GAAG,CAACN,IAAI,GAAGJ,wBAAwBe,OAAOJ;IAC5C;IAEA,OAAOD;AACT"}